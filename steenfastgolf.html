<head>
	<title>steenfastgolf</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
<div class="container-fluid">
	<div class="row">
		<div class="col-md-2 col-lg-2">
			<img class="img-responsive hidden-sm hidden-xs" src="left.jpg"/>
		</div>
		<div class="col-md-8 col-lg-8">
			{{loginButtons}}
			{{> leaderboard}}
		</div>
		<div class="col-md-2 col-lg-2">
			<img class="img-responsive hidden-sm hidden-xs" src="right.jpg"/>
		</div>
	</div>
</div>
</body>

<template name="leaderboard">
	<div class="table-responsive">
		<table class="table table-striped leaderboard">
			<thead>
				<tr>
					<th>Spelare</th>
					{{#each tournaments}}
					{{> tournament}}
					{{/each}}
					{{#if currentUser}}
					<th class="dropdown">
						<a href="#" class="btn dropdown-toggle new-tournament-dropdown" id="dropdownMenu1" data-toggle="dropdown">
							Ny
							<b class="caret"></b>
						</a >
						<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
							<form class="form-horizontal" role="form" class="dropdown-menu">
								<div class="form-group">
									<label for="new-tournament-date" class="col-sm-2 control-label">Datum</label>
									<div class="col-sm-10">
										<input type="date" class="form-control date-picker" id="new-tournament-date" data-date-format="YYYY-MM-DD" placeholder="2014-03-14">
									</div>
								</div>
								<div class="form-group" id="new-tournament-alias-div">
									<label for="new-tournament-alias" class="col-sm-2 control-label">Alias</label>
									<div class="col-sm-10">
										<input type="text" class="form-control" id="new-tournament-alias">
									</div>
								</div>
								<div class="form-group">
									<div class="col-sm-offset-2 col-sm-4">
										<button type="button" id="create-new-tournament" class="btn btn-primary">Skapa</button>
									</div>
								</div>
							</form>
						</ul>
					</th>
					{{/if}}
					<th>Totalt</th>
				</tr>
			</thead>
			<tbody>
			{{#each players}}
			{{> player }}
			{{/each}}
			{{#if currentUser}}
				<tr><td><input class="newplayer" type="text" id="new-player" placeholder="Ny spelare" /></td></tr>
			{{/if}}
			</tbody>
		</table>
	</div>
</template>

<template name="player">
	<tr class="player">
		<td class="player-name" id="player-{{_id}}">{{name}}</td>
		{{#each userScores _id}}
		{{> score }}
		{{/each}}
		{{#if currentUser}}
		<td></td>
		{{/if}}
		<td class="average">{{totalScore}}</td>
	</tr>
</template>

<template name="score">
	{{#if currentUser}}
	<td class="score">
		<input class="score score-input" type="text" id="{{_id}}" maxlength=3 value="{{score}}"/>
	</td>
	{{else}}
	<td class="score">{{score}}</td>
	{{/if}}
</template>

<template name="tournament">
	<th>{{alias}} {{formattedDate}}</th>
</template>
