<head>
	<title>steenfastgolf</title>
</head>

<body>
{{loginButtons}}
<div class="imageleft">
	<img src="left.jpg"/>
</div>
<div class="imageright">
	<img src="right.jpg"/>
</div>
{{> leaderboard}}
</body>

<template name="leaderboard">
	<table class="leaderboard">
		<tr>
			<th>Spelare</th>
			{{#each tournaments}}
			{{> tournament}}
			{{/each}}
			{{#if currentUser}}
			<th>
				<div id="new-tournament" class="newtournament">
					<input class="newtournament" type="submit" name="new-tournament" value="+" />
				</div>
			</th>
			{{/if}}
			<th>Totalt</th>
		</tr>
		{{#each players}}
		{{> player }}
		{{/each}}
		{{#if currentUser}}
			<tr><td><input class="newplayer" type="text" id="new-player" placeholder="Ny spelare" /></td></tr>
		{{/if}}
	</table>
</template>

<template name="player">
	<tr class="player">
		<td class="name">{{name}}</td>
		{{#each userScores _id}}
		{{> score }}
		{{/each}}
		{{#if currentUser}}
		<td></td>
		{{/if}}
		<td class="average">{{totalScore}}</td>
	</tr>
</template>

<template name="score">
	{{#if currentUser}}
	<td class="score">
		<input class="score score-input" type="text" id="{{_id}}" size=3 value="{{score}}"/>
	</td>
	{{else}}
	<td class="score">{{score}}</td>
	{{/if}}
</template>

<template name="tournament">
	<th>{{alias}} {{formattedDate}}</th>
</template>
